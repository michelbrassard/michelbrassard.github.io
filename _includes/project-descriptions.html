{% for type in site.data.projects %}
    <h2>{{ type.name }}</h2>
    <div class="indent">
        {% for category in type.categories %}
            <h4 class="sm-title">{{ category.name }}</h4>
            <div class="indent">
                {% for project in category.projects %}
                    <div class="project-title">
                        <h3 id="{{project.id}}">{{ project.title }}</h3>
                        <p>Completed: {{project.completed}}</p>
                    </div>
                    <div class="indent">
                        {% if project.group %}
                            <p class="text-with-icon"><strong>
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-users-icon lucide-users"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><path d="M16 3.128a4 4 0 0 1 0 7.744"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><circle cx="9" cy="7" r="4"/></svg>
                                {{project.members}} team members
                            </strong></p>
                        {% endif %}
                        
                        {% for note in project.content %}
                            {% if note.title %}
                                <h5 class="xs-title">{{note.title}}</h5>
                            {% endif %}

                            {% assign content = note.text | strip %}
                            {% if note.links %}
                                {% for link in note.links %}
                                    {% assign token = '[[' | append: link.token | append: ']]' %}
                                    
                                    {% if link.external %}
                                        {% assign anchor = '<a href="' | append: link.url | append: '" target="_blank">' | append: link.text | append: '</a>' %}
                                    
                                    {% else %}
                                        {% assign full_url = site.url | append: link.url %}
                                        {% assign anchor = '<a href="' | append: full_url | append: '">' | append: link.text | append: '</a>' %}
                                    {% endif %}
                                    
                                    {% assign content = content | replace: token, anchor %}
                                {% endfor %}
                            {% endif %}
                            <p>{{ content }}</p>
                        {% endfor %}

                        {% if project.colors %}
                            {% include color-list.html colors=project.colors %}
                        {% endif %}

                        <h4>Tools & Technologies</h4>
                        <p>{{project.technologies}}</p>

                        <h4>Screenshots</h4>
                        {% include gallery.html images=project.gallery %}
                    </div>
                    <hr>
                {% endfor %}
            </div>
        {% endfor %}
    </div>
{% endfor %}